<div>Scenario Editor, here you will be able to create/edit scenarios</div>

<div>
  Scenarios
  <mw-base-select [(selectedItem)]="selectedScenario">
    @for (scenario of scenarios(); track $index) {
      <option [value]="scenario.name">{{ scenario.name }}</option>
    }
  </mw-base-select>

  {{ selectedScenario() }}
</div>

<!-- panels, dockers? -->
<div class="panel">
  <div class="header">Units Inspector</div>

  <mw-base-select [(selectedItem)]="selectedUnitType">
    @for (unitType of unitTypes; track $index) {
      <option value="{{ unitType.id }}">{{ unitType.faction.title }} - {{ unitType.name }}</option>
    }
  </mw-base-select>
  {{ selectedUnitType() }}
</div>

<div class="panel">
  <div class="header">Items inspector</div>

  <mw-base-select [(selectedItem)]="selectedItemType">
    @for (itemType of itemTypes; track $index) {
      <option [value]="itemType.id">Item - {{ itemType.name }}</option>
    }
  </mw-base-select>

  {{ selectedItemType() }}
</div>

<div class="panel">
  <div class="header">Scenario Scripts</div>

  <mw-base-select [(selectedItem)]="selectedScript">
    @for (script of scripts(); track $index) {
      <option [value]="script.name()">{{ script.name() }}</option>
    }
  </mw-base-select>

  @let script = activeScript();
  {{ script?.name() }}
  @if (script) {
    <!-- <textarea [(ngModel)]="script.code"></textarea> -->

    @defer {
      <mw-script-editor [(code)]="script.code"></mw-script-editor>
    }
  }

  <button
    mw-main-button
    (click)="addNewScript()"
  >
    Add Script
  </button>

  <button (click)="runScripts()">Run</button>
</div>

<button
  mw-main-button
  (click)="goToMainScreen()"
>
  Back to main screen
</button>
